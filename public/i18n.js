// === DeepForm i18n ===
const TRANSLATIONS = {
  ja: {
    // Header
    'nav.howItWorks': 'How it works',
    'nav.start': '始める',

    // Hero
    'hero.badge': 'AI-Powered Depth Interview',
    'hero.title1': 'PoCで止まらない。',
    'hero.title2': 'リリースできる仕様まで、一直線。',
    'hero.sub': 'AIがあればPoCは作れる。でも、その先がない。\nエッジケース、非機能要件、受け入れ基準——\nサービスにするために必要なことを、AIがインタビューから全部引き出します。',
    'hero.placeholder': '例：研究室の週末オペを楽にしたい…',
    'hero.inputLabel': '課題テーマを入力',
    'hero.cta': 'インタビューを開始',

    // Problem
    'problem.title': 'PoCは作れる。でも、その先がない。',
    'problem.desc': 'AIの発達で、思いつきを動くものにするまでは速くなった。\nでも現実には、PoCで止まるプロジェクトがほとんど。',
    'problem.item1': '「どんなエッジケースがあるか」がわからない',
    'problem.item2': '「セキュリティや可用性をどこまでやるか」が決められない',
    'problem.item3': '「これで実装して」と渡せる仕様書が書けない',
    'problem.item4': 'そもそもユーザーが本当に困っているか検証できていない',
    'problem.conclusion': 'エンジニアでない人には「何が足りないか」すら見えない。\nDeepFormは、そのギャップを埋める。',
    'depth.title': 'デプスインタビューとは',
    'depth.desc': '表面的なアンケートではなく、「なぜそう思うのか」「具体的にいつ困ったのか」を\n1対1の対話で深掘りする調査手法。',
    'depth.bad.label': '普通のアンケート',
    'depth.bad.text': '「この機能は便利ですか？」 → Yes / No',
    'depth.good.label': 'デプスインタビュー',
    'depth.good.text': '「最近それで困った具体的な場面は？」「そのときどうやって切り抜けた？」',
    'depth.conclusion': 'これにより、「あったらいいな」ではなく「なければ困る」真の課題が見えてくる。\nただし本来は専門スキルが必要——DeepFormはAIがそれを代行する。',

    // How it works
    'howItWorks.title': 'How it works',
    'howItWorks.sub': '5つのステップで、課題テーマから実装可能な仕様を生成',
    'step1.title': 'AI デプスインタビュー',
    'step1.desc': '熟練のインタビュアーAIが、具体例・頻度・困り度・回避策を深掘り',
    'step2.title': 'ファクト抽出',
    'step2.desc': '発話エビデンス付きで、事実・ペイン・頻度・回避策を構造化',
    'step3.title': '仮説生成',
    'step3.desc': '根拠リンク・反証パターン・未検証ポイント付きの仮説を自動生成',
    'step4.title': 'PRD 生成',
    'step4.desc': 'MVPスコープに圧縮された、テスト可能な受け入れ基準付きPRD',
    'step5.title': '実装仕様エクスポート',
    'step5.desc': 'API仕様・DBスキーマ・テストケースを spec.json で出力',

    // Features
    'features.title': '差別化ポイント',
    'feat1.title': 'Evidence-linked 仕様',
    'feat1.desc': '要件と元発話がリンク。「なぜこの機能？」に常に答えられる。',
    'feat2.title': '反証付き仮説',
    'feat2.desc': '思い込みを防止。各仮説に反証パターンと未検証ポイントを明示。',
    'feat3.title': '深掘り専用AI',
    'feat3.desc': '具体例ベースで掘る専用ロジック。非エンジニアでもプロ級インタビュー。',
    'feat4.title': 'エージェント直投入',
    'feat4.desc': 'spec.json をコピーしてコーディングエージェントに貼るだけ。',

    // Sessions
    'sessions.title': 'セッション一覧',
    'sessions.empty': 'まだセッションがありません',

    // Footer
    'footer.tagline': 'DeepForm — From vague idea → deployable spec.',
    'footer.credit': 'Built with Claude AI × exe.dev',

    // Interview
    'interview.title': 'AI デプスインタビュー',
    'interview.desc': '課題について、AIが具体的なエピソードを深掘りします',
    'interview.minAnswers': '3 回以上回答するとファクト抽出に進めます',
    'interview.placeholder': '回答を入力…',
    'interview.hint': 'Shift + Enter で送信　・　Enter で改行',
    'interview.next': 'ファクト抽出に進む →',
    'facts.title': '抽出されたファクト',
    'facts.desc': 'インタビューから抽出された事実・困りごと・頻度・回避策',
    'facts.next': '仮説生成に進む →',
    'hypotheses.title': '仮説（反証付き）',
    'hypotheses.desc': 'ファクトに基づく仮説と、それが成り立たない可能性',
    'hypotheses.next': 'PRD生成に進む →',
    'prd.title': 'PRD（プロダクト要件定義書）',
    'prd.desc': 'MVPスコープに圧縮された、テスト可能な受け入れ基準付きのPRD',
    'prd.next': '実装仕様を生成 →',
    'spec.title': '実装仕様',
    'spec.desc': 'コーディングエージェントにそのまま渡せる実装仕様',
    'spec.exportJson': 'spec.json をコピー',
    'spec.exportMd': 'PRD.md をコピー',
    'sidebar.share': '共有URLを発行',

    // Step nav
    'stepnav.interview': 'インタビュー',
    'stepnav.facts': 'ファクト抽出',
    'stepnav.hypotheses': '仮説生成',
    'stepnav.prd': 'PRD',
    'stepnav.spec': '実装仕様',

    // Shared
    'shared.desc': 'このテーマについて、AIがあなたにいくつか質問します。\n日頃感じていることを率直に教えてください。',
    'shared.time': '所要時間：約5分',
    'shared.nameLabel': 'お名前（任意）',
    'shared.namePlaceholder': '例：田中太郎',
    'shared.start': 'インタビューを始める',
    'shared.complete': 'インタビューを完了する →',
    'shared.factsTitle': '抽出されたファクト',
    'shared.factsDesc': 'あなたの回答から以下のファクトが抽出されました。\n修正や補足があればフィードバック欄に記入してください。',
    'shared.feedbackLabel': 'フィードバック（任意）',
    'shared.feedbackPlaceholder': '抽出内容への修正や追加コメントがあれば…',
    'shared.submit': '送信して完了',
    'shared.thanksTitle': 'ありがとうございました！',
    'shared.thanksDesc': 'あなたのフィードバックは開発チームに届けられます。\n貴重なご意見をありがとうございました。',

    // Loading / Status
    'loading.default': 'AIが分析中…',
    'loading.session': 'セッションを作成中…',
    'loading.load': 'セッションを読み込み中…',
    'loading.facts': 'AIがファクトを抽出中…',
    'loading.hypotheses': 'AIが仮説を生成中…',
    'loading.prd': 'AIがPRDを生成中…',
    'loading.spec': 'AIが実装仕様を生成中…',
    'toast.factsDone': 'ファクト抽出が完了しました',
    'toast.hypothesesDone': '仮説生成が完了しました',
    'toast.prdDone': 'PRD生成が完了しました',
    'toast.specDone': '実装仕様生成が完了しました',
    'toast.copied': 'クリップボードにコピーしました',
    'toast.shareUrl': '共有URLをコピーしました',
    'toast.enterTheme': 'テーマを入力してください',
    'toast.notFound': 'インタビューが見つかりません',

    // Status labels
    'status.interviewing': 'インタビュー中',
    'status.analyzed': 'ファクト抽出済',
    'status.respondent_done': '回答完了',
    'status.hypothesized': '仮説生成済',
    'status.prd_generated': 'PRD生成済',
    'status.spec_generated': '実装仕様完了',

    // Fact types
    'factType.fact': '事実',
    'factType.pain': '困りごと',
    'factType.frequency': '頻度',
    'factType.workaround': '回避策',

    // Hypothesis
    'hypo.supporting': '根拠ファクト:',
    'hypo.counter': '反証:',
    'hypo.unverified': '未検証ポイント:',
    'hypo.feedback': '回答者からのフィードバック',

    // Typing
    'chat.thinking': '考え中',
    'shared.tag': '共有済',

    // Auth
    'auth.login': 'GitHub でログイン',
    'auth.logout': 'ログアウト',
    'auth.loginRequired': 'セッションを作成するにはログインしてください',
    'session.public': '公開',
    'session.private': '非公開',

    // Next steps
    'sidebar.campaign': 'キャンペーンURLを発行',
    'toast.campaignUrl': 'キャンペーンURLをコピーしました',
    'next.title': '次のステップ：コーディングエージェントで実装を開始',
    'next.desc': 'エクスポートした spec.json / PRD.md をコーディングエージェントに渡すだけで、実装を開始できます。',
    'next.badge': 'おすすめ',
    'next.exe.title': 'exe.dev + Shelley',
    'next.exe.desc': 'VM上のShelleyに spec.json を貼り付けるだけ。環境構築からデプロイまで一気に実行。',
    'next.exe.code': 'spec.json を貼って「これを実装して」',
    'next.claude.title': 'Claude Code',
    'next.claude.desc': 'ローカル環境で PRD.md をリポジトリに置いて、Claude Code で実装を開始。',
    'next.claude.code': 'PRD.md をリポジトリルートに配置',
    'next.cursor.title': 'Cursor',
    'next.cursor.desc': 'Cursor のチャットに spec.json を貼り付けて、対話しながら実装。',
    'next.cursor.code': 'spec.json を Composer に貼り付け',
    'next.other.title': 'その他のエージェント',
    'next.other.desc': 'GitHub Copilot, Devin, Cline, Windsurf など、任意のコーディングエージェントで利用可能。',
    'next.other.code': 'spec.json は標準JSON形式',
    'next.summary': '手動でエクスポートして外部ツールで実装する場合',

    // Step nav
    'stepnav.deploy': 'デプロイ',

    // Spec deploy button
    'spec.deploy': 'アプリを生成・デプロイ →',

    // Deploy step
    'deploy.title': 'デプロイ & フィードバック',
    'deploy.desc': '生成されたアプリを公開し、ユーザーフィードバックを収集して次の改善に回す',
    'deploy.empty': 'まだデプロイがありません。実装仕様からアプリを生成してください。',
    'deploy.generate': 'アプリを生成',
    'deploy.preview': 'プレビュー',
    'deploy.open': 'アプリを開く',
    'deploy.copyUrl': 'URLをコピー',
    'deploy.feedbackTitle': 'ユーザーフィードバック',
    'deploy.regenerate': 'フィードバックを反映して再生成',
    'howItWorks.sub': '6つのステップで、課題テーマからアプリ生成・デプロイ・フィードバックループまで',
    'step6.title': 'デプロイ & フィードバック',
    'step6.desc': 'AIがアプリを生成・公開。ユーザーの声を収集して次の改善に回す。',
  },

  en: {
    'nav.howItWorks': 'How it works',
    'nav.start': 'Get started',
    'hero.badge': 'AI-Powered Depth Interview',
    'hero.title1': "Don't stop at PoC.",
    'hero.title2': 'Ship-ready specs, end to end.',
    'hero.sub': 'AI can build a PoC. But what comes next?\nEdge cases, non-functional requirements, acceptance criteria—\nDeepForm extracts everything you need through AI-driven interviews.',
    'hero.placeholder': 'e.g. Make weekend lab operations easier…',
    'hero.inputLabel': 'Enter your challenge theme',
    'hero.cta': 'Start interview',
    'problem.title': 'You can build a PoC. But then what?',
    'problem.desc': 'AI made it fast to turn ideas into working prototypes.\nBut in reality, most projects stall at the PoC stage.',
    'problem.item1': 'You don\'t know what edge cases exist',
    'problem.item2': 'You can\'t decide how far to go on security and availability',
    'problem.item3': 'You can\'t write a spec that engineers can actually implement',
    'problem.item4': 'You haven\'t even validated whether users truly have this problem',
    'problem.conclusion': 'If you\'re not an engineer, you can\'t even see what\'s missing.\nDeepForm bridges that gap.',
    'depth.title': 'What is a Depth Interview?',
    'depth.desc': 'Not a surface-level survey. A 1-on-1 conversation that digs into\n"why do you think that?" and "when exactly did that happen?"',
    'depth.bad.label': 'Typical survey',
    'depth.bad.text': '"Is this feature useful?" → Yes / No',
    'depth.good.label': 'Depth interview',
    'depth.good.text': '"Tell me about a specific time you struggled with this." "How did you work around it?"',
    'depth.conclusion': 'This reveals real pain points, not "nice to haves."\nIt normally requires expert skills—DeepForm\'s AI handles it for you.',
    'howItWorks.title': 'How it works',
    'howItWorks.sub': '5 steps from problem theme to implementable spec',
    'step1.title': 'AI Depth Interview',
    'step1.desc': 'AI interviewer digs into specific examples, frequency, severity, and workarounds',
    'step2.title': 'Fact Extraction',
    'step2.desc': 'Structured facts, pains, frequencies, and workarounds with source evidence',
    'step3.title': 'Hypothesis Generation',
    'step3.desc': 'Auto-generated hypotheses with supporting evidence, counter-evidence, and unknowns',
    'step4.title': 'PRD Generation',
    'step4.desc': 'MVP-scoped PRD with testable acceptance criteria',
    'step5.title': 'Spec Export',
    'step5.desc': 'API specs, DB schema, and test cases exported as spec.json',
    'features.title': 'Key Differentiators',
    'feat1.title': 'Evidence-linked Specs',
    'feat1.desc': 'Every requirement links back to user statements. Always answer "why this feature?"',
    'feat2.title': 'Counter-evidence on Hypotheses',
    'feat2.desc': 'Prevent confirmation bias. Each hypothesis shows counter-patterns and unknowns.',
    'feat3.title': 'Purpose-built Interview AI',
    'feat3.desc': 'Specialized logic for depth interviews. Pro-level insights without the expertise.',
    'feat4.title': 'Agent-ready Export',
    'feat4.desc': 'Copy spec.json and paste it directly into your coding agent.',
    'sessions.title': 'Sessions',
    'sessions.empty': 'No sessions yet',
    'footer.tagline': 'DeepForm — From vague idea → deployable spec.',
    'footer.credit': 'Built with Claude AI × exe.dev',
    'interview.title': 'AI Depth Interview',
    'interview.desc': 'AI will dig into specific episodes about your challenge',
    'interview.minAnswers': 'Answer at least 3 times to unlock fact extraction',
    'interview.placeholder': 'Type your answer…',
    'interview.hint': 'Shift + Enter to send · Enter for new line',
    'interview.next': 'Extract facts →',
    'facts.title': 'Extracted Facts',
    'facts.desc': 'Facts, pains, frequencies, and workarounds extracted from the interview',
    'facts.next': 'Generate hypotheses →',
    'hypotheses.title': 'Hypotheses (with counter-evidence)',
    'hypotheses.desc': 'Hypotheses based on facts, and why they might not hold',
    'hypotheses.next': 'Generate PRD →',
    'prd.title': 'PRD (Product Requirements Document)',
    'prd.desc': 'MVP-scoped PRD with testable acceptance criteria',
    'prd.next': 'Generate spec →',
    'spec.title': 'Implementation Spec',
    'spec.desc': 'Implementation spec ready to hand off to a coding agent',
    'spec.exportJson': 'Copy spec.json',
    'spec.exportMd': 'Copy PRD.md',
    'sidebar.share': 'Generate share URL',
    'stepnav.interview': 'Interview',
    'stepnav.facts': 'Facts',
    'stepnav.hypotheses': 'Hypotheses',
    'stepnav.prd': 'PRD',
    'stepnav.spec': 'Spec',
    'shared.desc': 'AI will ask you a few questions about this topic.\nPlease share your honest thoughts and experiences.',
    'shared.time': 'Estimated time: ~5 min',
    'shared.nameLabel': 'Your name (optional)',
    'shared.namePlaceholder': 'e.g. John Doe',
    'shared.start': 'Start interview',
    'shared.complete': 'Complete interview →',
    'shared.factsTitle': 'Extracted Facts',
    'shared.factsDesc': 'The following facts were extracted from your answers.\nPlease provide feedback if anything needs correction.',
    'shared.feedbackLabel': 'Feedback (optional)',
    'shared.feedbackPlaceholder': 'Any corrections or additional comments…',
    'shared.submit': 'Submit and finish',
    'shared.thanksTitle': 'Thank you!',
    'shared.thanksDesc': 'Your feedback will be shared with the development team.\nWe appreciate your valuable input.',
    'loading.default': 'AI is analyzing…',
    'loading.session': 'Creating session…',
    'loading.load': 'Loading session…',
    'loading.facts': 'AI is extracting facts…',
    'loading.hypotheses': 'AI is generating hypotheses…',
    'loading.prd': 'AI is generating PRD…',
    'loading.spec': 'AI is generating spec…',
    'toast.factsDone': 'Fact extraction complete',
    'toast.hypothesesDone': 'Hypothesis generation complete',
    'toast.prdDone': 'PRD generation complete',
    'toast.specDone': 'Spec generation complete',
    'toast.copied': 'Copied to clipboard',
    'toast.shareUrl': 'Share URL copied',
    'toast.enterTheme': 'Please enter a theme',
    'toast.notFound': 'Interview not found',
    'status.interviewing': 'Interviewing',
    'status.analyzed': 'Facts extracted',
    'status.respondent_done': 'Response complete',
    'status.hypothesized': 'Hypotheses ready',
    'status.prd_generated': 'PRD ready',
    'status.spec_generated': 'Spec complete',
    'factType.fact': 'Fact',
    'factType.pain': 'Pain',
    'factType.frequency': 'Frequency',
    'factType.workaround': 'Workaround',
    'hypo.supporting': 'Supporting facts:',
    'hypo.counter': 'Counter-evidence:',
    'hypo.unverified': 'Unverified:',
    'hypo.feedback': 'Respondent feedback',
    'chat.thinking': 'Thinking',
    'shared.tag': 'Shared',

    // Auth
    'auth.login': 'Sign in with GitHub',
    'auth.logout': 'Sign out',
    'auth.loginRequired': 'Please sign in to create sessions',
    'session.public': 'Public',
    'session.private': 'Private',

    // Next steps
    'sidebar.campaign': 'Create campaign URL',
    'toast.campaignUrl': 'Campaign URL copied',
    'next.title': 'Next: Start building with a coding agent',
    'next.desc': 'Just hand the exported spec.json / PRD.md to your coding agent to start implementation.',
    'next.badge': 'Recommended',
    'next.exe.title': 'exe.dev + Shelley',
    'next.exe.desc': 'Paste spec.json into Shelley on a VM. From setup to deploy, all in one shot.',
    'next.exe.code': 'Paste spec.json and say "implement this"',
    'next.claude.title': 'Claude Code',
    'next.claude.desc': 'Place PRD.md in your repo and start implementing with Claude Code locally.',
    'next.claude.code': 'Place PRD.md at repository root',
    'next.cursor.title': 'Cursor',
    'next.cursor.desc': 'Paste spec.json into Cursor\'s chat and build interactively.',
    'next.cursor.code': 'Paste spec.json into Composer',
    'next.other.title': 'Other agents',
    'next.other.desc': 'Compatible with GitHub Copilot, Devin, Cline, Windsurf, and any coding agent.',
    'next.other.code': 'spec.json is standard JSON',
    'next.summary': 'Manually export and build with external tools',

    'stepnav.deploy': 'Deploy',
    'spec.deploy': 'Generate & Deploy App →',
    'deploy.title': 'Deploy & Feedback',
    'deploy.desc': 'Publish the generated app, collect user feedback, and iterate',
    'deploy.empty': 'No deployments yet. Generate an app from the spec.',
    'deploy.generate': 'Generate App',
    'deploy.preview': 'Preview',
    'deploy.open': 'Open App',
    'deploy.copyUrl': 'Copy URL',
    'deploy.feedbackTitle': 'User Feedback',
    'deploy.regenerate': 'Regenerate with Feedback',
    'howItWorks.sub': '6 steps: from challenge theme to app generation, deploy, and feedback loop',
    'step6.title': 'Deploy & Feedback',
    'step6.desc': 'AI generates the app and deploys it. Collect user feedback and iterate.',
  },

  es: {
    'nav.howItWorks': 'Cómo funciona',
    'nav.start': 'Comenzar',
    'hero.badge': 'Entrevista en profundidad con IA',
    'hero.title1': 'No te quedes en el PoC.',
    'hero.title2': 'Specs listas para producción, de punta a punta.',
    'hero.sub': 'Con IA puedes crear un PoC. Pero ¿qué viene después?\nCasos límite, requisitos no funcionales, criterios de aceptación—\nDeepForm extrae todo lo necesario a través de entrevistas con IA.',
    'hero.placeholder': 'Ej: Simplificar las operaciones de fin de semana del laboratorio…',
    'hero.inputLabel': 'Ingresa el tema de tu desafío',
    'hero.cta': 'Iniciar entrevista',
    'problem.title': 'Puedes crear un PoC. ¿Y luego?',
    'problem.desc': 'La IA aceleró la creación de prototipos funcionales.\nPero en la realidad, la mayoría de proyectos se estancan en el PoC.',
    'problem.item1': 'No sabes qué casos límite existen',
    'problem.item2': 'No puedes decidir hasta dónde llegar con seguridad y disponibilidad',
    'problem.item3': 'No puedes escribir una spec que los ingenieros puedan implementar',
    'problem.item4': 'Ni siquiera has validado si los usuarios realmente tienen este problema',
    'problem.conclusion': 'Si no eres ingeniero, ni siquiera ves lo que falta.\nDeepForm cierra esa brecha.',
    'depth.title': '¿Qué es una entrevista en profundidad?',
    'depth.desc': 'No es una encuesta superficial. Es una conversación 1 a 1 que indaga\nen el "¿por qué piensas eso?" y "¿cuándo exactamente ocurrió?"',
    'depth.bad.label': 'Encuesta típica',
    'depth.bad.text': '"¿Esta función es útil?" → Sí / No',
    'depth.good.label': 'Entrevista en profundidad',
    'depth.good.text': '"Cuéntame un caso concreto en que tuviste este problema." "¿Cómo lo resolviste?"',
    'depth.conclusion': 'Esto revela problemas reales, no "sería bueno tener."\nNormalmente requiere habilidades expertas—la IA de DeepForm lo hace por ti.',
    'howItWorks.title': 'Cómo funciona',
    'howItWorks.sub': '5 pasos del tema del problema a la especificación implementable',
    'step1.title': 'Entrevista IA',
    'step1.desc': 'IA entrevistadora que profundiza en ejemplos, frecuencia, severidad y soluciones alternativas',
    'step2.title': 'Extracción de hechos',
    'step2.desc': 'Hechos, dolores, frecuencias y soluciones alternativas con evidencia de origen',
    'step3.title': 'Generación de hipótesis',
    'step3.desc': 'Hipótesis con evidencia de apoyo, contra-evidencia e incógnitas',
    'step4.title': 'Generación de PRD',
    'step4.desc': 'PRD con alcance MVP y criterios de aceptación verificables',
    'step5.title': 'Exportar spec',
    'step5.desc': 'Specs de API, esquema de BD y casos de prueba exportados como spec.json',
    'features.title': 'Diferenciadores clave',
    'feat1.title': 'Specs con evidencia',
    'feat1.desc': 'Cada requisito está vinculado a declaraciones del usuario.',
    'feat2.title': 'Hipótesis con contra-evidencia',
    'feat2.desc': 'Previene sesgos. Cada hipótesis muestra contra-patrones e incógnitas.',
    'feat3.title': 'IA especializada',
    'feat3.desc': 'Lógica especializada para entrevistas en profundidad. Insights profesionales sin la experiencia.',
    'feat4.title': 'Exportación para agentes',
    'feat4.desc': 'Copia spec.json y pégalo directamente en tu agente de código.',
    'sessions.title': 'Sesiones',
    'sessions.empty': 'Aún no hay sesiones',
    'footer.tagline': 'DeepForm — De idea vaga → spec desplegable.',
    'footer.credit': 'Hecho con Claude AI × exe.dev',
    'interview.title': 'Entrevista en profundidad con IA',
    'interview.desc': 'La IA profundizará en episodios específicos sobre tu desafío',
    'interview.minAnswers': 'Responde al menos 3 veces para desbloquear la extracción de hechos',
    'interview.placeholder': 'Escribe tu respuesta…',
    'interview.hint': 'Shift + Enter para enviar · Enter para nueva línea',
    'interview.next': 'Extraer hechos →',
    'facts.title': 'Hechos extraídos',
    'facts.desc': 'Hechos, dolores, frecuencias y soluciones extraídos de la entrevista',
    'facts.next': 'Generar hipótesis →',
    'hypotheses.title': 'Hipótesis (con contra-evidencia)',
    'hypotheses.desc': 'Hipótesis basadas en hechos y por qué podrían no cumplirse',
    'hypotheses.next': 'Generar PRD →',
    'prd.title': 'PRD (Documento de requisitos)',
    'prd.desc': 'PRD con alcance MVP y criterios de aceptación verificables',
    'prd.next': 'Generar spec →',
    'spec.title': 'Especificación de implementación',
    'spec.desc': 'Spec lista para entregar a un agente de código',
    'spec.exportJson': 'Copiar spec.json',
    'spec.exportMd': 'Copiar PRD.md',
    'sidebar.share': 'Generar URL compartida',
    'stepnav.interview': 'Entrevista',
    'stepnav.facts': 'Hechos',
    'stepnav.hypotheses': 'Hipótesis',
    'stepnav.prd': 'PRD',
    'stepnav.spec': 'Spec',
    'shared.desc': 'La IA te hará algunas preguntas sobre este tema.\nComparte tus pensamientos y experiencias con honestidad.',
    'shared.time': 'Tiempo estimado: ~5 min',
    'shared.nameLabel': 'Tu nombre (opcional)',
    'shared.namePlaceholder': 'Ej: Juan Pérez',
    'shared.start': 'Comenzar entrevista',
    'shared.complete': 'Completar entrevista →',
    'shared.factsTitle': 'Hechos extraídos',
    'shared.factsDesc': 'Se extrajeron los siguientes hechos de tus respuestas.\nSi algo necesita corrección, escríbelo en el campo de retroalimentación.',
    'shared.feedbackLabel': 'Retroalimentación (opcional)',
    'shared.feedbackPlaceholder': 'Correcciones o comentarios adicionales…',
    'shared.submit': 'Enviar y terminar',
    'shared.thanksTitle': '¡Gracias!',
    'shared.thanksDesc': 'Tu retroalimentación será compartida con el equipo de desarrollo.\nAgradecemos tu valiosa opinión.',
    'loading.default': 'IA analizando…',
    'loading.session': 'Creando sesión…',
    'loading.load': 'Cargando sesión…',
    'loading.facts': 'IA extrayendo hechos…',
    'loading.hypotheses': 'IA generando hipótesis…',
    'loading.prd': 'IA generando PRD…',
    'loading.spec': 'IA generando spec…',
    'toast.factsDone': 'Extracción de hechos completa',
    'toast.hypothesesDone': 'Generación de hipótesis completa',
    'toast.prdDone': 'Generación de PRD completa',
    'toast.specDone': 'Generación de spec completa',
    'toast.copied': 'Copiado al portapapeles',
    'toast.shareUrl': 'URL compartida copiada',
    'toast.enterTheme': 'Por favor ingresa un tema',
    'toast.notFound': 'Entrevista no encontrada',
    'status.interviewing': 'Entrevistando',
    'status.analyzed': 'Hechos extraídos',
    'status.respondent_done': 'Respuesta completa',
    'status.hypothesized': 'Hipótesis listas',
    'status.prd_generated': 'PRD listo',
    'status.spec_generated': 'Spec completa',
    'factType.fact': 'Hecho',
    'factType.pain': 'Dolor',
    'factType.frequency': 'Frecuencia',
    'factType.workaround': 'Alternativa',
    'hypo.supporting': 'Hechos de apoyo:',
    'hypo.counter': 'Contra-evidencia:',
    'hypo.unverified': 'Sin verificar:',
    'hypo.feedback': 'Retroalimentación del encuestado',
    'chat.thinking': 'Pensando',
    'shared.tag': 'Compartida',

    // Auth
    'auth.login': 'Iniciar sesión con GitHub',
    'auth.logout': 'Cerrar sesión',
    'auth.loginRequired': 'Inicie sesión para crear sesiones',
    'session.public': 'Público',
    'session.private': 'Privado',

    // Next steps
    'sidebar.campaign': 'Crear URL de campaña',
    'toast.campaignUrl': 'URL de campaña copiada',
    'next.title': 'Siguiente: Comienza a construir con un agente de código',
    'next.desc': 'Solo pasa el spec.json / PRD.md exportado a tu agente de código para comenzar la implementación.',
    'next.badge': 'Recomendado',
    'next.exe.title': 'exe.dev + Shelley',
    'next.exe.desc': 'Pega spec.json en Shelley en una VM. Desde configuración hasta despliegue, todo de una vez.',
    'next.exe.code': 'Pega spec.json y di "implementa esto"',
    'next.claude.title': 'Claude Code',
    'next.claude.desc': 'Coloca PRD.md en tu repositorio y comienza a implementar con Claude Code localmente.',
    'next.claude.code': 'Coloca PRD.md en la raíz del repositorio',
    'next.cursor.title': 'Cursor',
    'next.cursor.desc': 'Pega spec.json en el chat de Cursor y construye interactivamente.',
    'next.cursor.code': 'Pega spec.json en Composer',
    'next.other.title': 'Otros agentes',
    'next.other.desc': 'Compatible con GitHub Copilot, Devin, Cline, Windsurf y cualquier agente de código.',
    'next.other.code': 'spec.json es JSON estándar',
    'next.summary': 'Exportar manualmente y construir con herramientas externas',

    'stepnav.deploy': 'Desplegar',
    'spec.deploy': 'Generar y Desplegar App →',
    'deploy.title': 'Despliegue y Retroalimentación',
    'deploy.desc': 'Publica la app generada, recopila retroalimentación y mejora iterativamente',
    'deploy.empty': 'Aún no hay despliegues. Genera una app desde la especificación.',
    'deploy.generate': 'Generar App',
    'deploy.preview': 'Vista previa',
    'deploy.open': 'Abrir App',
    'deploy.copyUrl': 'Copiar URL',
    'deploy.feedbackTitle': 'Retroalimentación de usuarios',
    'deploy.regenerate': 'Regenerar con retroalimentación',
    'howItWorks.sub': '6 pasos: del tema de desafío a la generación de app, despliegue y ciclo de retroalimentación',
    'step6.title': 'Despliegue & Retroalimentación',
    'step6.desc': 'La IA genera la app y la despliega. Recopila retroalimentación e itera.',
  },
};

let currentLang = localStorage.getItem('deepform-lang') || navigator.language?.substring(0, 2) || 'ja';
if (!TRANSLATIONS[currentLang]) currentLang = 'en';

function t(key) {
  return TRANSLATIONS[currentLang]?.[key] || TRANSLATIONS['ja']?.[key] || key;
}

function setLang(lang) {
  if (!TRANSLATIONS[lang]) return;
  currentLang = lang;
  localStorage.setItem('deepform-lang', lang);
  document.documentElement.lang = lang;
  applyTranslations();
  // Update active state on lang buttons
  document.querySelectorAll('.lang-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.lang === lang);
  });
}

function applyTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    const val = t(key);
    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
      el.placeholder = val;
    } else {
      el.innerHTML = val.replace(/\n/g, '<br>');
    }
  });
  document.querySelectorAll('[data-i18n-title]').forEach(el => {
    el.title = t(el.dataset.i18nTitle);
  });
}
