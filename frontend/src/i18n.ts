// === DeepForm i18n ===

type TranslationMap = Record<string, string>;

const ja: TranslationMap = {
  'nav.howItWorks': 'How it works',
  'nav.start': '始める',
  'hero.badge': 'AI-Powered Depth Interview',
  'hero.title1': 'PoCで止まらない。',
  'hero.title2': 'リリースできる仕様まで、一直線。',
  'hero.sub': 'AIがあればPoCは作れる。でも、その先がない。\nエッジケース、非機能要件、受け入れ基準——\nサービスにするために必要なことを、AIがインタビューから全部引き出します。',
  'hero.placeholder': '例：研究室の週末オペを楽にしたい…',
  'hero.inputLabel': '課題テーマを入力',
  'hero.cta': 'インタビューを開始',
  'problem.title': 'PoCは作れる。でも、その先がない。',
  'problem.desc': 'AIの発達で、思いつきを動くものにするまでは速くなった。\nでも現実には、PoCで止まるプロジェクトがほとんど。',
  'problem.item1': '「どんなエッジケースがあるか」がわからない',
  'problem.item2': '「セキュリティや可用性をどこまでやるか」が決められない',
  'problem.item3': '「これで実装して」と渡せる仕様書が書けない',
  'problem.item4': 'そもそもユーザーが本当に困っているか検証できていない',
  'problem.conclusion': 'エンジニアでない人には「何が足りないか」すら見えない。\nDeepFormは、そのギャップを埋める。',
  'depth.title': 'デプスインタビューとは',
  'depth.desc': '表面的なアンケートではなく、「なぜそう思うのか」「具体的にいつ困ったのか」を\n1対1の対話で深掘りする調査手法。',
  'depth.bad.label': '普通のアンケート',
  'depth.bad.text': '「この機能は便利ですか？」 → Yes / No',
  'depth.good.label': 'デプスインタビュー',
  'depth.good.text': '「最近それで困った具体的な場面は？」「そのときどうやって切り抜けた？」',
  'depth.conclusion': 'これにより、「あったらいいな」ではなく「なければ困る」真の課題が見えてくる。\nただし本来は専門スキルが必要——DeepFormはAIがそれを代行する。',
  'howItWorks.title': 'How it works',
  'howItWorks.sub': '5つのステップで、課題テーマから実装可能な仕様を生成',
  'step1.title': 'AI デプスインタビュー',
  'step1.desc': '熟練のインタビュアーAIが、具体例・頻度・困り度・回避策を深掘り',
  'step2.title': 'ファクト抽出',
  'step2.desc': '発話エビデンス付きで、事実・ペイン・頻度・回避策を構造化',
  'step3.title': '仮説生成',
  'step3.desc': '根拠リンク・反証パターン・未検証ポイント付きの仮説を自動生成',
  'step4.title': 'PRD 生成',
  'step4.desc': 'MVPスコープに圧縮された、テスト可能な受け入れ基準付きPRD',
  'step5.title': '実装仕様エクスポート',
  'step5.desc': 'API仕様・DBスキーマ・テストケースを spec.json で出力',
  'features.title': '差別化ポイント',
  'feat1.title': 'Evidence-linked 仕様',
  'feat1.desc': '要件と元発話がリンク。「なぜこの機能？」に常に答えられる。',
  'feat2.title': '反証付き仮説',
  'feat2.desc': '思い込みを防止。各仮説に反証パターンと未検証ポイントを明示。',
  'feat3.title': '深掘り専用AI',
  'feat3.desc': '具体例ベースで掘る専用ロジック。非エンジニアでもプロ級インタビュー。',
  'feat4.title': 'エージェント直投入',
  'feat4.desc': 'spec.json をコピーしてコーディングエージェントに貼るだけ。',
  'sessions.title': 'セッション一覧',
  'sessions.empty': 'まだセッションがありません',
  'footer.tagline': 'DeepForm — From vague idea → deployable spec.',
  'footer.credit': 'Built with Claude AI × exe.dev',
  'interview.title': 'AI デプスインタビュー',
  'interview.desc': '課題について、AIが具体的なエピソードを深掘りします',
  'interview.minAnswers': '3 回以上回答するとファクト抽出に進めます',
  'interview.placeholder': '回答を入力…',
  'interview.hint': 'Shift + Enter で送信　・　Enter で改行',
  'interview.next': 'ファクト抽出に進む →',
  'facts.title': '抽出されたファクト',
  'facts.desc': 'インタビューから抽出された事実・困りごと・頻度・回避策',
  'facts.next': '仮説生成に進む →',
  'hypotheses.title': '仮説（反証付き）',
  'hypotheses.desc': 'ファクトに基づく仮説と、それが成り立たない可能性',
  'hypotheses.next': 'PRD生成に進む →',
  'prd.title': 'PRD（プロダクト要件定義書）',
  'prd.desc': 'MVPスコープに圧縮された、テスト可能な受け入れ基準付きのPRD',
  'prd.next': '実装仕様を生成 →',
  'spec.title': '実装仕様',
  'spec.desc': 'エンジニアや AI がすぐ開発を始められる設計書',
  'spec.exportToggle': 'エクスポート（開発者向け）',
  'spec.exportJson': 'spec.json をコピー',
  'spec.exportMd': 'PRD.md をコピー',
  'spec.saveGithub': 'GitHub に保存',
  'spec.next': 'Production Readiness Check →',
  'readiness.title': 'Production Readiness Check',
  'readiness.desc': 'ISO/IEC 25010 の 8 品質特性に基づく本番リリース前チェックリスト',
  'sidebar.campaign': '他の人にも聞く',
  'stepnav.interview': 'インタビュー',
  'stepnav.facts': 'ファクト抽出',
  'stepnav.hypotheses': '仮説生成',
  'stepnav.prd': 'PRD',
  'stepnav.spec': '実装仕様',
  'stepnav.readiness': 'Readiness',
  'shared.desc': 'このテーマについて、AIがあなたにいくつか質問します。\n日頃感じていることを率直に教えてください。',
  'shared.time': '所要時間：約5分',
  'shared.nameLabel': 'お名前（任意）',
  'shared.namePlaceholder': '例：田中太郎',
  'shared.start': 'インタビューを始める',
  'shared.complete': 'インタビューを完了する →',
  'shared.factsTitle': '抽出されたファクト',
  'shared.factsDesc': 'あなたの回答から以下のファクトが抽出されました。\n修正や補足があればフィードバック欄に記入してください。',
  'shared.feedbackLabel': 'フィードバック（任意）',
  'shared.feedbackPlaceholder': '抽出内容への修正や追加コメントがあれば…',
  'shared.submit': '送信して完了',
  'shared.thanksTitle': 'ありがとうございました！',
  'shared.thanksDesc': 'あなたのフィードバックは開発チームに届けられます。\n貴重なご意見をありがとうございました。',
  'loading.default': 'AIが分析中…',
  'loading.session': 'セッションを作成中…',
  'loading.load': 'セッションを読み込み中…',
  'loading.facts': 'AIがファクトを抽出中…',
  'loading.hypotheses': 'AIが仮説を生成中…',
  'loading.prd': 'AIがPRDを生成中…',
  'loading.spec': 'AIが実装仕様を生成中…',
  'loading.readiness': 'AIがレディネスチェックリストを生成中…',
  'loading.githubSave': 'GitHub に保存中…',
  'toast.factsDone': 'ファクト抽出が完了しました',
  'toast.hypothesesDone': '仮説生成が完了しました',
  'toast.prdDone': 'PRD生成が完了しました',
  'toast.specDone': '実装仕様生成が完了しました',
  'toast.readinessDone': 'レディネスチェックリスト生成が完了しました',
  'toast.githubSaved': 'GitHub に保存しました',
  'toast.copied': 'クリップボードにコピーしました',
  'toast.enterTheme': 'テーマを入力してください',
  'toast.notFound': 'インタビューが見つかりません',
  'toast.campaignUrl': 'フィードバックURLをコピーしました',
  'status.interviewing': 'インタビュー中',
  'status.analyzed': 'ファクト抽出済',
  'status.respondent_done': '回答完了',
  'status.hypothesized': '仮説生成済',
  'status.prd_generated': 'PRD生成済',
  'status.spec_generated': '実装仕様完了',
  'status.readiness_checked': 'Readiness 完了',
  'factType.fact': '事実',
  'factType.pain': '困りごと',
  'factType.frequency': '頻度',
  'factType.workaround': '回避策',
  'hypo.supporting': '根拠ファクト:',
  'hypo.counter': '反証:',
  'hypo.unverified': '未検証ポイント:',
  'hypo.feedback': '回答者からのフィードバック',
  'chat.thinking': '考え中',
  'auth.login': 'Sign in with GitHub',
  'auth.logout': 'ログアウト',
  'auth.loginRequired': 'セッションを作成するにはログインしてください',
  'session.public': '公開',
  'session.private': '非公開',
  'next.summary': 'コーディングエージェントで実装を開始',
  'next.badge': 'おすすめ',
  'next.exe.title': 'exe.dev + Shelley',
  'next.exe.desc': 'VM上のShelleyに spec.json を貼り付けるだけ。環境構築からデプロイまで一気に実行。',
  'next.exe.code': 'spec.json を貼って「これを実装して」',
  'next.claude.title': 'Claude Code',
  'next.claude.desc': 'ローカル環境で PRD.md をリポジトリに置いて、Claude Code で実装を開始。',
  'next.claude.code': 'PRD.md をリポジトリルートに配置',
  'next.cursor.title': 'Cursor',
  'next.cursor.desc': 'Cursor のチャットに spec.json を貼り付けて、対話しながら実装。',
  'next.cursor.code': 'spec.json を Composer に貼り付け',
  'next.other.title': 'その他のエージェント',
  'next.other.desc': 'GitHub Copilot, Devin, Cline, Windsurf など、任意のコーディングエージェントで利用可能。',
  'next.other.code': 'spec.json は標準JSON形式',
  'legal.privacy': 'プライバシーポリシー',
  'legal.terms': '利用規約',
  'legal.security': 'セキュリティポリシー',
  'feedback.link': 'フィードバック',
  'feedback.title': 'フィードバックを送る',
  'feedback.typeLabel': '種別',
  'feedback.typeBug': 'バグ報告',
  'feedback.typeFeature': '機能要望',
  'feedback.typeOther': 'その他',
  'feedback.messageLabel': 'メッセージ',
  'feedback.messagePlaceholder': 'ご意見・ご要望をお聞かせください…',
  'feedback.submit': '送信',
  'feedback.cancel': 'キャンセル',
  'feedback.success': 'フィードバックを送信しました。ありがとうございます！',
  'feedback.error': 'フィードバックの送信に失敗しました',
  'feedback.rateLimit': '送信は60秒に1回までです',
  'triage.title': 'ファクト選択',
  'triage.desc': 'PRD に反映するファクトを選択してください',
  'triage.selectAll': 'すべて選択',
  'triage.deselectAll': 'すべて解除',
  'triage.save': '保存して PRD に反映',
  'triage.saving': '保存中...',
  'triage.saved': 'トリアージを保存しました',
  'triage.noFacts': 'ファクトがありません',
  'triage.selectedCount': '件選択中',
  'triage.button': 'ファクト選択',
};

const en: TranslationMap = {
  'nav.howItWorks': 'How it works',
  'nav.start': 'Get started',
  'hero.badge': 'AI-Powered Depth Interview',
  'hero.title1': "Don't stop at PoC.",
  'hero.title2': 'Ship-ready specs, end to end.',
  'hero.sub': 'AI can build a PoC. But what comes next?\nEdge cases, non-functional requirements, acceptance criteria—\nDeepForm extracts everything you need through AI-driven interviews.',
  'hero.placeholder': 'e.g. Make weekend lab operations easier…',
  'hero.inputLabel': 'Enter your challenge theme',
  'hero.cta': 'Start interview',
  'problem.title': 'You can build a PoC. But then what?',
  'problem.desc': 'AI made it fast to turn ideas into working prototypes.\nBut in reality, most projects stall at the PoC stage.',
  'problem.item1': "You don't know what edge cases exist",
  'problem.item2': "You can't decide how far to go on security and availability",
  'problem.item3': "You can't write a spec that engineers can actually implement",
  'problem.item4': "You haven't even validated whether users truly have this problem",
  'problem.conclusion': "If you're not an engineer, you can't even see what's missing.\nDeepForm bridges that gap.",
  'depth.title': 'What is a Depth Interview?',
  'depth.desc': 'Not a surface-level survey. A 1-on-1 conversation that digs into\n"why do you think that?" and "when exactly did that happen?"',
  'depth.bad.label': 'Typical survey',
  'depth.bad.text': '"Is this feature useful?" → Yes / No',
  'depth.good.label': 'Depth interview',
  'depth.good.text': '"Tell me about a specific time you struggled with this." "How did you work around it?"',
  'depth.conclusion': 'This reveals real pain points, not "nice to haves."\nIt normally requires expert skills—DeepForm\'s AI handles it for you.',
  'howItWorks.title': 'How it works',
  'howItWorks.sub': '5 steps from problem theme to implementable spec',
  'step1.title': 'AI Depth Interview',
  'step1.desc': 'AI interviewer digs into specific examples, frequency, severity, and workarounds',
  'step2.title': 'Fact Extraction',
  'step2.desc': 'Structured facts, pains, frequencies, and workarounds with source evidence',
  'step3.title': 'Hypothesis Generation',
  'step3.desc': 'Auto-generated hypotheses with supporting evidence, counter-evidence, and unknowns',
  'step4.title': 'PRD Generation',
  'step4.desc': 'MVP-scoped PRD with testable acceptance criteria',
  'step5.title': 'Spec Export',
  'step5.desc': 'API specs, DB schema, and test cases exported as spec.json',
  'features.title': 'Key Differentiators',
  'feat1.title': 'Evidence-linked Specs',
  'feat1.desc': 'Every requirement links back to user statements. Always answer "why this feature?"',
  'feat2.title': 'Counter-evidence on Hypotheses',
  'feat2.desc': 'Prevent confirmation bias. Each hypothesis shows counter-patterns and unknowns.',
  'feat3.title': 'Purpose-built Interview AI',
  'feat3.desc': 'Specialized logic for depth interviews. Pro-level insights without the expertise.',
  'feat4.title': 'Agent-ready Export',
  'feat4.desc': 'Copy spec.json and paste it directly into your coding agent.',
  'sessions.title': 'Sessions',
  'sessions.empty': 'No sessions yet',
  'footer.tagline': 'DeepForm — From vague idea → deployable spec.',
  'footer.credit': 'Built with Claude AI × exe.dev',
  'interview.title': 'AI Depth Interview',
  'interview.desc': 'AI will dig into specific episodes about your challenge',
  'interview.minAnswers': 'Answer at least 3 times to unlock fact extraction',
  'interview.placeholder': 'Type your answer…',
  'interview.hint': 'Shift + Enter to send · Enter for new line',
  'interview.next': 'Extract facts →',
  'facts.title': 'Extracted Facts',
  'facts.desc': 'Facts, pains, frequencies, and workarounds extracted from the interview',
  'facts.next': 'Generate hypotheses →',
  'hypotheses.title': 'Hypotheses (with counter-evidence)',
  'hypotheses.desc': 'Hypotheses based on facts, and why they might not hold',
  'hypotheses.next': 'Generate PRD →',
  'prd.title': 'PRD (Product Requirements Document)',
  'prd.desc': 'MVP-scoped PRD with testable acceptance criteria',
  'prd.next': 'Generate spec →',
  'spec.title': 'Implementation Spec',
  'spec.desc': 'A technical blueprint for engineers or AI to start building',
  'spec.exportToggle': 'Export (for developers)',
  'spec.exportJson': 'Copy spec.json',
  'spec.exportMd': 'Copy PRD.md',
  'spec.saveGithub': 'Save to GitHub',
  'spec.next': 'Production Readiness Check →',
  'readiness.title': 'Production Readiness Check',
  'readiness.desc': 'Pre-release checklist based on ISO/IEC 25010 quality characteristics',
  'sidebar.campaign': 'Ask Others Too',
  'stepnav.interview': 'Interview',
  'stepnav.facts': 'Facts',
  'stepnav.hypotheses': 'Hypotheses',
  'stepnav.prd': 'PRD',
  'stepnav.spec': 'Spec',
  'stepnav.readiness': 'Readiness',
  'shared.desc': 'AI will ask you a few questions about this topic.\nPlease share your honest thoughts and experiences.',
  'shared.time': 'Estimated time: ~5 min',
  'shared.nameLabel': 'Your name (optional)',
  'shared.namePlaceholder': 'e.g. John Doe',
  'shared.start': 'Start interview',
  'shared.complete': 'Complete interview →',
  'shared.factsTitle': 'Extracted Facts',
  'shared.factsDesc': 'The following facts were extracted from your answers.\nPlease provide feedback if anything needs correction.',
  'shared.feedbackLabel': 'Feedback (optional)',
  'shared.feedbackPlaceholder': 'Any corrections or additional comments…',
  'shared.submit': 'Submit and finish',
  'shared.thanksTitle': 'Thank you!',
  'shared.thanksDesc': 'Your feedback will be shared with the development team.\nWe appreciate your valuable input.',
  'loading.default': 'AI is analyzing…',
  'loading.session': 'Creating session…',
  'loading.load': 'Loading session…',
  'loading.facts': 'AI is extracting facts…',
  'loading.hypotheses': 'AI is generating hypotheses…',
  'loading.prd': 'AI is generating PRD…',
  'loading.spec': 'AI is generating spec…',
  'loading.readiness': 'AI is generating readiness checklist…',
  'loading.githubSave': 'Saving to GitHub…',
  'toast.factsDone': 'Fact extraction complete',
  'toast.hypothesesDone': 'Hypothesis generation complete',
  'toast.prdDone': 'PRD generation complete',
  'toast.specDone': 'Spec generation complete',
  'toast.readinessDone': 'Readiness checklist generated',
  'toast.githubSaved': 'Saved to GitHub',
  'toast.copied': 'Copied to clipboard',
  'toast.enterTheme': 'Please enter a theme',
  'toast.notFound': 'Interview not found',
  'toast.campaignUrl': 'Feedback URL copied',
  'status.interviewing': 'Interviewing',
  'status.analyzed': 'Facts extracted',
  'status.respondent_done': 'Response complete',
  'status.hypothesized': 'Hypotheses ready',
  'status.prd_generated': 'PRD ready',
  'status.spec_generated': 'Spec complete',
  'status.readiness_checked': 'Readiness complete',
  'factType.fact': 'Fact',
  'factType.pain': 'Pain',
  'factType.frequency': 'Frequency',
  'factType.workaround': 'Workaround',
  'hypo.supporting': 'Supporting facts:',
  'hypo.counter': 'Counter-evidence:',
  'hypo.unverified': 'Unverified:',
  'hypo.feedback': 'Respondent feedback',
  'chat.thinking': 'Thinking',
  'auth.login': 'Sign in with GitHub',
  'auth.logout': 'Sign out',
  'auth.loginRequired': 'Please sign in to create sessions',
  'session.public': 'Public',
  'session.private': 'Private',
  'next.summary': 'Start building with a coding agent',
  'next.badge': 'Recommended',
  'next.exe.title': 'exe.dev + Shelley',
  'next.exe.desc': 'Paste spec.json into Shelley on a VM. From setup to deploy, all in one shot.',
  'next.exe.code': 'Paste spec.json and say "implement this"',
  'next.claude.title': 'Claude Code',
  'next.claude.desc': 'Place PRD.md in your repo and start implementing with Claude Code locally.',
  'next.claude.code': 'Place PRD.md at repository root',
  'next.cursor.title': 'Cursor',
  'next.cursor.desc': "Paste spec.json into Cursor's chat and build interactively.",
  'next.cursor.code': 'Paste spec.json into Composer',
  'next.other.title': 'Other agents',
  'next.other.desc': 'Compatible with GitHub Copilot, Devin, Cline, Windsurf, and any coding agent.',
  'next.other.code': 'spec.json is standard JSON',
  'legal.privacy': 'Privacy Policy',
  'legal.terms': 'Terms of Service',
  'legal.security': 'Security Policy',
  'feedback.link': 'Feedback',
  'feedback.title': 'Send Feedback',
  'feedback.typeLabel': 'Type',
  'feedback.typeBug': 'Bug Report',
  'feedback.typeFeature': 'Feature Request',
  'feedback.typeOther': 'Other',
  'feedback.messageLabel': 'Message',
  'feedback.messagePlaceholder': 'Tell us what you think…',
  'feedback.submit': 'Submit',
  'feedback.cancel': 'Cancel',
  'feedback.success': 'Feedback sent. Thank you!',
  'feedback.error': 'Failed to send feedback',
  'feedback.rateLimit': 'Please wait 60 seconds between submissions',
  'triage.title': 'Select Facts',
  'triage.desc': 'Select facts to include in PRD generation',
  'triage.selectAll': 'Select all',
  'triage.deselectAll': 'Deselect all',
  'triage.save': 'Save & regenerate PRD',
  'triage.saving': 'Saving...',
  'triage.saved': 'Triage saved',
  'triage.noFacts': 'No facts available',
  'triage.selectedCount': 'selected',
  'triage.button': 'Select Facts',
};

const es: TranslationMap = {
  'nav.howItWorks': 'Cómo funciona',
  'nav.start': 'Comenzar',
  'hero.badge': 'Entrevista en profundidad con IA',
  'hero.title1': 'No te quedes en el PoC.',
  'hero.title2': 'Specs listas para producción, de punta a punta.',
  'hero.sub': 'Con IA puedes crear un PoC. Pero ¿qué viene después?\nCasos límite, requisitos no funcionales, criterios de aceptación—\nDeepForm extrae todo lo necesario a través de entrevistas con IA.',
  'hero.placeholder': 'Ej: Simplificar las operaciones de fin de semana…',
  'hero.inputLabel': 'Ingresa el tema de tu desafío',
  'hero.cta': 'Iniciar entrevista',
  'problem.title': 'Puedes crear un PoC. ¿Y luego?',
  'problem.desc': 'La IA aceleró la creación de prototipos funcionales.\nPero en la realidad, la mayoría de proyectos se estancan en el PoC.',
  'problem.item1': 'No sabes qué casos límite existen',
  'problem.item2': 'No puedes decidir hasta dónde llegar con seguridad y disponibilidad',
  'problem.item3': 'No puedes escribir una spec que los ingenieros puedan implementar',
  'problem.item4': 'Ni siquiera has validado si los usuarios realmente tienen este problema',
  'problem.conclusion': 'Si no eres ingeniero, ni siquiera ves lo que falta.\nDeepForm cierra esa brecha.',
  'depth.title': '¿Qué es una entrevista en profundidad?',
  'depth.desc': 'No es una encuesta superficial. Es una conversación 1 a 1 que indaga\nen el "¿por qué piensas eso?" y "¿cuándo exactamente ocurrió?"',
  'depth.bad.label': 'Encuesta típica',
  'depth.bad.text': '"¿Esta función es útil?" → Sí / No',
  'depth.good.label': 'Entrevista en profundidad',
  'depth.good.text': '"Cuéntame un caso concreto en que tuviste este problema." "¿Cómo lo resolviste?"',
  'depth.conclusion': 'Esto revela problemas reales, no "sería bueno tener."\nNormalmente requiere habilidades expertas—la IA de DeepForm lo hace por ti.',
  'howItWorks.title': 'Cómo funciona',
  'howItWorks.sub': '5 pasos del tema del problema a la especificación implementable',
  'step1.title': 'Entrevista IA',
  'step1.desc': 'IA entrevistadora que profundiza en ejemplos, frecuencia, severidad y soluciones alternativas',
  'step2.title': 'Extracción de hechos',
  'step2.desc': 'Hechos, dolores, frecuencias y soluciones alternativas con evidencia de origen',
  'step3.title': 'Generación de hipótesis',
  'step3.desc': 'Hipótesis con evidencia de apoyo, contra-evidencia e incógnitas',
  'step4.title': 'Generación de PRD',
  'step4.desc': 'PRD con alcance MVP y criterios de aceptación verificables',
  'step5.title': 'Exportar spec',
  'step5.desc': 'Specs de API, esquema de BD y casos de prueba exportados como spec.json',
  'features.title': 'Diferenciadores clave',
  'feat1.title': 'Specs con evidencia',
  'feat1.desc': 'Cada requisito está vinculado a declaraciones del usuario.',
  'feat2.title': 'Hipótesis con contra-evidencia',
  'feat2.desc': 'Previene sesgos. Cada hipótesis muestra contra-patrones e incógnitas.',
  'feat3.title': 'IA especializada',
  'feat3.desc': 'Lógica especializada para entrevistas en profundidad. Insights profesionales sin la experiencia.',
  'feat4.title': 'Exportación para agentes',
  'feat4.desc': 'Copia spec.json y pégalo directamente en tu agente de código.',
  'sessions.title': 'Sesiones',
  'sessions.empty': 'Aún no hay sesiones',
  'footer.tagline': 'DeepForm — De idea vaga → spec desplegable.',
  'footer.credit': 'Hecho con Claude AI × exe.dev',
  'interview.title': 'Entrevista en profundidad con IA',
  'interview.desc': 'La IA profundizará en episodios específicos sobre tu desafío',
  'interview.minAnswers': 'Responde al menos 3 veces para desbloquear la extracción de hechos',
  'interview.placeholder': 'Escribe tu respuesta…',
  'interview.hint': 'Shift + Enter para enviar · Enter para nueva línea',
  'interview.next': 'Extraer hechos →',
  'facts.title': 'Hechos extraídos',
  'facts.desc': 'Hechos, dolores, frecuencias y soluciones extraídos de la entrevista',
  'facts.next': 'Generar hipótesis →',
  'hypotheses.title': 'Hipótesis (con contra-evidencia)',
  'hypotheses.desc': 'Hipótesis basadas en hechos y por qué podrían no cumplirse',
  'hypotheses.next': 'Generar PRD →',
  'prd.title': 'PRD (Documento de requisitos)',
  'prd.desc': 'PRD con alcance MVP y criterios de aceptación verificables',
  'prd.next': 'Generar spec →',
  'spec.title': 'Especificación de implementación',
  'spec.desc': 'Plano técnico para que ingenieros o IA comiencen a construir',
  'spec.exportToggle': 'Exportar (para desarrolladores)',
  'spec.exportJson': 'Copiar spec.json',
  'spec.exportMd': 'Copiar PRD.md',
  'spec.saveGithub': 'Guardar en GitHub',
  'spec.next': 'Production Readiness Check →',
  'readiness.title': 'Production Readiness Check',
  'readiness.desc': 'Lista de verificación previa al lanzamiento basada en ISO/IEC 25010',
  'sidebar.campaign': 'Preguntar a otros',
  'stepnav.interview': 'Entrevista',
  'stepnav.facts': 'Hechos',
  'stepnav.hypotheses': 'Hipótesis',
  'stepnav.prd': 'PRD',
  'stepnav.spec': 'Spec',
  'stepnav.readiness': 'Readiness',
  'shared.desc': 'La IA te hará algunas preguntas sobre este tema.\nComparte tus pensamientos y experiencias con honestidad.',
  'shared.time': 'Tiempo estimado: ~5 min',
  'shared.nameLabel': 'Tu nombre (opcional)',
  'shared.namePlaceholder': 'Ej: Juan Pérez',
  'shared.start': 'Comenzar entrevista',
  'shared.complete': 'Completar entrevista →',
  'shared.factsTitle': 'Hechos extraídos',
  'shared.factsDesc': 'Se extrajeron los siguientes hechos de tus respuestas.\nSi algo necesita corrección, escríbelo en el campo de retroalimentación.',
  'shared.feedbackLabel': 'Retroalimentación (opcional)',
  'shared.feedbackPlaceholder': 'Correcciones o comentarios adicionales…',
  'shared.submit': 'Enviar y terminar',
  'shared.thanksTitle': '¡Gracias!',
  'shared.thanksDesc': 'Tu retroalimentación será compartida con el equipo de desarrollo.\nAgradecemos tu valiosa opinión.',
  'loading.default': 'IA analizando…',
  'loading.session': 'Creando sesión…',
  'loading.load': 'Cargando sesión…',
  'loading.facts': 'IA extrayendo hechos…',
  'loading.hypotheses': 'IA generando hipótesis…',
  'loading.prd': 'IA generando PRD…',
  'loading.spec': 'IA generando spec…',
  'loading.readiness': 'IA generando lista de verificación…',
  'loading.githubSave': 'Guardando en GitHub…',
  'toast.factsDone': 'Extracción de hechos completa',
  'toast.hypothesesDone': 'Generación de hipótesis completa',
  'toast.prdDone': 'Generación de PRD completa',
  'toast.specDone': 'Generación de spec completa',
  'toast.readinessDone': 'Lista de verificación generada',
  'toast.githubSaved': 'Guardado en GitHub',
  'toast.copied': 'Copiado al portapapeles',
  'toast.enterTheme': 'Por favor ingresa un tema',
  'toast.notFound': 'Entrevista no encontrada',
  'toast.campaignUrl': 'URL de retroalimentación copiada',
  'status.interviewing': 'Entrevistando',
  'status.analyzed': 'Hechos extraídos',
  'status.respondent_done': 'Respuesta completa',
  'status.hypothesized': 'Hipótesis listas',
  'status.prd_generated': 'PRD listo',
  'status.spec_generated': 'Spec completa',
  'status.readiness_checked': 'Readiness completa',
  'factType.fact': 'Hecho',
  'factType.pain': 'Dolor',
  'factType.frequency': 'Frecuencia',
  'factType.workaround': 'Alternativa',
  'hypo.supporting': 'Hechos de apoyo:',
  'hypo.counter': 'Contra-evidencia:',
  'hypo.unverified': 'Sin verificar:',
  'hypo.feedback': 'Retroalimentación del encuestado',
  'chat.thinking': 'Pensando',
  'auth.login': 'Sign in with GitHub',
  'auth.logout': 'Cerrar sesión',
  'auth.loginRequired': 'Inicie sesión para crear sesiones',
  'session.public': 'Público',
  'session.private': 'Privado',
  'next.summary': 'Comienza a construir con un agente de código',
  'next.badge': 'Recomendado',
  'next.exe.title': 'exe.dev + Shelley',
  'next.exe.desc': 'Pega spec.json en Shelley en una VM. Desde configuración hasta despliegue, todo de una vez.',
  'next.exe.code': 'Pega spec.json y di "implementa esto"',
  'next.claude.title': 'Claude Code',
  'next.claude.desc': 'Coloca PRD.md en tu repositorio y comienza a implementar con Claude Code localmente.',
  'next.claude.code': 'Coloca PRD.md en la raíz del repositorio',
  'next.cursor.title': 'Cursor',
  'next.cursor.desc': 'Pega spec.json en el chat de Cursor y construye interactivamente.',
  'next.cursor.code': 'Pega spec.json en Composer',
  'next.other.title': 'Otros agentes',
  'next.other.desc': 'Compatible con GitHub Copilot, Devin, Cline, Windsurf y cualquier agente de código.',
  'next.other.code': 'spec.json es JSON estándar',
  'legal.privacy': 'Política de Privacidad',
  'legal.terms': 'Términos de Servicio',
  'legal.security': 'Política de Seguridad',
  'feedback.link': 'Comentarios',
  'feedback.title': 'Enviar comentarios',
  'feedback.typeLabel': 'Tipo',
  'feedback.typeBug': 'Reporte de error',
  'feedback.typeFeature': 'Solicitud de función',
  'feedback.typeOther': 'Otro',
  'feedback.messageLabel': 'Mensaje',
  'feedback.messagePlaceholder': 'Cuéntanos tu opinión…',
  'feedback.submit': 'Enviar',
  'feedback.cancel': 'Cancelar',
  'feedback.success': 'Comentario enviado. ¡Gracias!',
  'feedback.error': 'Error al enviar comentarios',
  'feedback.rateLimit': 'Espera 60 segundos entre envíos',
  'triage.title': 'Seleccionar hechos',
  'triage.desc': 'Selecciona los hechos a incluir en la generación del PRD',
  'triage.selectAll': 'Seleccionar todos',
  'triage.deselectAll': 'Deseleccionar todos',
  'triage.save': 'Guardar y regenerar PRD',
  'triage.saving': 'Guardando...',
  'triage.saved': 'Triaje guardado',
  'triage.noFacts': 'No hay hechos disponibles',
  'triage.selectedCount': 'seleccionados',
  'triage.button': 'Seleccionar hechos',
};

const zh: TranslationMap = {
  'nav.howItWorks': '使用方法',
  'nav.start': '开始使用',
  'hero.badge': 'AI 驱动的深度访谈',
  'hero.title1': '不要止步于 PoC。',
  'hero.title2': '从头到尾，交付可上线的规格书。',
  'hero.sub': 'AI 可以构建 PoC，但接下来呢？\n边界情况、非功能性需求、验收标准——\nDeepForm 通过 AI 驱动的访谈，帮你提取所需的一切。',
  'hero.placeholder': '例：让周末的实验室运维更轻松…',
  'hero.inputLabel': '输入你的课题主题',
  'hero.cta': '开始访谈',
  'problem.title': '你能做出 PoC，然后呢？',
  'problem.desc': 'AI 让把想法变成可运行的原型变得很快。\n但现实中，大多数项目都停滞在 PoC 阶段。',
  'problem.item1': '你不知道存在哪些边界情况',
  'problem.item2': '你无法决定安全性和可用性要做到什么程度',
  'problem.item3': '你写不出工程师能真正落地的规格书',
  'problem.item4': '你甚至还没验证用户是否真的有这个问题',
  'problem.conclusion': '如果你不是工程师，你甚至看不到缺了什么。\nDeepForm 帮你弥合这个鸿沟。',
  'depth.title': '什么是深度访谈？',
  'depth.desc': '不是浅层的问卷调查，而是一对一的深入对话，\n追问“你为什么这么想？”和“具体是什么时候发生的？”',
  'depth.bad.label': '普通问卷',
  'depth.bad.text': '“这个功能有用吗？” → 是 / 否',
  'depth.good.label': '深度访谈',
  'depth.good.text': '“请讲一个你在这方面遇到困难的具体经历。”“你当时是怎么应对的？”',
  'depth.conclusion': '这能揭示真正的痛点，而不是“有了也不错”的需求。\n这通常需要专业技能——DeepForm 的 AI 帮你搞定。',
  'howItWorks.title': '使用方法',
  'howItWorks.sub': '从问题主题到可实施规格书的 5 个步骤',
  'step1.title': 'AI 深度访谈',
  'step1.desc': 'AI 访谈员深入挖掘具体实例、发生频率、严重程度和应对方法',
  'step2.title': '事实提取',
  'step2.desc': '结构化的事实、痛点、频率和应对方法，并附有来源证据',
  'step3.title': '假设生成',
  'step3.desc': '自动生成假设，附带支持证据、反面证据和未知项',
  'step4.title': 'PRD 生成',
  'step4.desc': 'MVP 范围的 PRD，包含可测试的验收标准',
  'step5.title': '规格书导出',
  'step5.desc': 'API 规格、数据库模式和测试用例导出为 spec.json',
  'features.title': '核心差异化优势',
  'feat1.title': '证据关联的规格书',
  'feat1.desc': '每个需求都关联到用户原话。随时回答“为什么要做这个功能？”',
  'feat2.title': '假设的反面证据',
  'feat2.desc': '防止确认偏误。每个假设都展示反面模式和未知项。',
  'feat3.title': '专为访谈打造的 AI',
  'feat3.desc': '深度访谈专用逻辑。无需专业背景也能获得专家级洞察。',
  'feat4.title': '可直接交给 Agent 的导出',
  'feat4.desc': '复制 spec.json，直接粘贴到你的编程 Agent 中。',
  'sessions.title': '会话列表',
  'sessions.empty': '暂无会话',
  'footer.tagline': 'DeepForm — 从模糊想法 → 可部署的规格书。',
  'footer.credit': '由 Claude AI × exe.dev 构建',
  'interview.title': 'AI 深度访谈',
  'interview.desc': 'AI 将深入了解你的课题相关的具体经历',
  'interview.minAnswers': '至少回答 3 次即可解锁事实提取',
  'interview.placeholder': '输入你的回答…',
  'interview.hint': 'Shift + Enter 发送 · Enter 换行',
  'interview.next': '提取事实 →',
  'facts.title': '提取的事实',
  'facts.desc': '从访谈中提取的事实、痛点、频率和应对方法',
  'facts.next': '生成假设 →',
  'hypotheses.title': '假设（含反面证据）',
  'hypotheses.desc': '基于事实的假设，以及它们可能不成立的原因',
  'hypotheses.next': '生成 PRD →',
  'prd.title': 'PRD（产品需求文档）',
  'prd.desc': 'MVP 范围的 PRD，包含可测试的验收标准',
  'prd.next': '生成规格书 →',
  'spec.title': '实施规格书',
  'spec.desc': '工程师或 AI 可直接开始开发的技术蓝图',
  'spec.exportToggle': '导出（面向开发者）',
  'spec.exportJson': '复制 spec.json',
  'spec.exportMd': '复制 PRD.md',
  'spec.saveGithub': '保存到 GitHub',
  'spec.next': '生产就绪检查 →',
  'readiness.title': '生产就绪检查',
  'readiness.desc': '基于 ISO/IEC 25010 质量特性的上线前检查清单',
  'sidebar.campaign': '也问问其他人',
  'stepnav.interview': '访谈',
  'stepnav.facts': '事实',
  'stepnav.hypotheses': '假设',
  'stepnav.prd': 'PRD',
  'stepnav.spec': '规格书',
  'stepnav.readiness': '就绪检查',
  'shared.desc': 'AI 将就此主题向你提几个问题。\n请分享你真实的想法和经历。',
  'shared.time': '预计用时：约 5 分钟',
  'shared.nameLabel': '你的姓名（可选）',
  'shared.namePlaceholder': '例：张三',
  'shared.start': '开始访谈',
  'shared.complete': '完成访谈 →',
  'shared.factsTitle': '提取的事实',
  'shared.factsDesc': '以下事实是从你的回答中提取的。\n如有需要修正的地方，请提供反馈。',
  'shared.feedbackLabel': '反馈（可选）',
  'shared.feedbackPlaceholder': '任何修正或补充说明…',
  'shared.submit': '提交并完成',
  'shared.thanksTitle': '感谢你！',
  'shared.thanksDesc': '你的反馈将分享给开发团队。\n非常感谢你宝贵的意见。',
  'loading.default': 'AI 正在分析…',
  'loading.session': '正在创建会话…',
  'loading.load': '正在加载会话…',
  'loading.facts': 'AI 正在提取事实…',
  'loading.hypotheses': 'AI 正在生成假设…',
  'loading.prd': 'AI 正在生成 PRD…',
  'loading.spec': 'AI 正在生成规格书…',
  'loading.readiness': 'AI 正在生成就绪检查清单…',
  'loading.githubSave': '正在保存到 GitHub…',
  'toast.factsDone': '事实提取完成',
  'toast.hypothesesDone': '假设生成完成',
  'toast.prdDone': 'PRD 生成完成',
  'toast.specDone': '规格书生成完成',
  'toast.readinessDone': '就绪检查清单已生成',
  'toast.githubSaved': '已保存到 GitHub',
  'toast.copied': '已复制到剪贴板',
  'toast.enterTheme': '请输入主题',
  'toast.notFound': '未找到访谈',
  'toast.campaignUrl': '反馈链接已复制',
  'status.interviewing': '访谈中',
  'status.analyzed': '事实已提取',
  'status.respondent_done': '回复完成',
  'status.hypothesized': '假设已就绪',
  'status.prd_generated': 'PRD 已就绪',
  'status.spec_generated': '规格书已完成',
  'status.readiness_checked': '就绪检查已完成',
  'factType.fact': '事实',
  'factType.pain': '痛点',
  'factType.frequency': '频率',
  'factType.workaround': '应对方法',
  'hypo.supporting': '支持事实：',
  'hypo.counter': '反面证据：',
  'hypo.unverified': '未验证：',
  'hypo.feedback': '受访者反馈',
  'chat.thinking': '思考中',
  'auth.login': '使用 GitHub 登录',
  'auth.logout': '退出登录',
  'auth.loginRequired': '请登录以创建会话',
  'session.public': '公开',
  'session.private': '私密',
  'next.summary': '使用编程 Agent 开始构建',
  'next.badge': '推荐',
  'next.exe.title': 'exe.dev + Shelley',
  'next.exe.desc': '在虚拟机上将 spec.json 粘贴给 Shelley，从搭建到部署一步到位。',
  'next.exe.code': '粘贴 spec.json 并说“实现这个”',
  'next.claude.title': 'Claude Code',
  'next.claude.desc': '将 PRD.md 放入你的仓库，使用 Claude Code 在本地开始实施。',
  'next.claude.code': '将 PRD.md 放在仓库根目录',
  'next.cursor.title': 'Cursor',
  'next.cursor.desc': '将 spec.json 粘贴到 Cursor 的聊天中，交互式构建。',
  'next.cursor.code': '将 spec.json 粘贴到 Composer',
  'next.other.title': '其他 Agent',
  'next.other.desc': '兼容 GitHub Copilot、Devin、Cline、Windsurf 等任意编程 Agent。',
  'next.other.code': 'spec.json 是标准 JSON 格式',
  'legal.privacy': '隐私政策',
  'legal.terms': '服务条款',
  'legal.security': '安全政策',
  'feedback.link': '反馈',
  'feedback.title': '发送反馈',
  'feedback.typeLabel': '类型',
  'feedback.typeBug': 'Bug 报告',
  'feedback.typeFeature': '功能请求',
  'feedback.typeOther': '其他',
  'feedback.messageLabel': '内容',
  'feedback.messagePlaceholder': '告诉我们你的想法…',
  'feedback.submit': '提交',
  'feedback.cancel': '取消',
  'feedback.success': '反馈已发送，谢谢！',
  'feedback.error': '反馈发送失败',
  'feedback.rateLimit': '请等待 60 秒后再提交',
  'triage.title': '选择事实',
  'triage.desc': '选择要纳入 PRD 生成的事实',
  'triage.selectAll': '全选',
  'triage.deselectAll': '取消全选',
  'triage.save': '保存并重新生成 PRD',
  'triage.saving': '保存中...',
  'triage.saved': '分类已保存',
  'triage.noFacts': '暂无事实',
  'triage.selectedCount': '已选择',
  'triage.button': '选择事实',
};

const TRANSLATIONS: Record<string, TranslationMap> = { ja, en, es, zh };

export let currentLang: string =
  localStorage.getItem('deepform-lang') ??
  navigator.language?.substring(0, 2) ??
  'ja';
if (!TRANSLATIONS[currentLang]) currentLang = 'en';

export function t(key: string): string {
  return TRANSLATIONS[currentLang]?.[key] ?? TRANSLATIONS['en']?.[key] ?? TRANSLATIONS['ja']?.[key] ?? key;
}

export function setLang(lang: string): void {
  if (!TRANSLATIONS[lang]) return;
  currentLang = lang;
  localStorage.setItem('deepform-lang', lang);
  document.documentElement.lang = lang;
  applyTranslations();
  document.querySelectorAll<HTMLElement>('.lang-btn').forEach((b) => {
    b.classList.toggle('active', b.dataset.lang === lang);
  });
}

export function applyTranslations(): void {
  document.querySelectorAll<HTMLElement>('[data-i18n]').forEach((el) => {
    const key = el.dataset.i18n!;
    const val = t(key);
    if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) {
      el.placeholder = val;
    } else {
      el.innerHTML = val.replace(/\n/g, '<br>');
    }
  });
}
